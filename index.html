<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3D Data Visualization</title>
    <style>
        body { margin: 0; background-color: #ffffff; }
        canvas { display: block; }
        .controls { 
            position: absolute; 
            bottom: 10px; 
            left: 50%; 
            transform: translateX(-50%); 
            display: flex; 
            flex-wrap: wrap; 
            justify-content: center; 
        }
        .slider-container { 
            display: flex; 
            align-items: center; 
            margin: 5px; 
        }
        .slider-label { 
            margin-right: 10px; 
            font-family: Arial, sans-serif; /* Change the font */
            color: #333333; /* Change the label color */
        }
        .slider-container input[type="range"] {
            -webkit-appearance: none; /* Override default CSS styles */
            appearance: none;
            width: 100px; /* Set slider width */
            height: 10px; /* Set slider height */
            background: #d3d3d3; /* Set slider track color */
            outline: none; /* Remove outline */
            opacity: 0.7; /* Set slider opacity */
            transition: opacity .15s ease-in-out; /* Transition effect */
        }
        .slider-container input[type="range"]:hover {
            opacity: 1; /* Increase opacity when hovered */
        }
        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; /* Override default CSS styles */
            appearance: none;
            width: 20px; /* Set thumb width */
            height: 20px; /* Set thumb height */
            background: #e4bb74; /* Set thumb color */
            cursor: pointer; /* Change cursor to pointer */
        }
        .slider-container input[type="range"]::-moz-range-thumb {
            width: 20px; /* Set thumb width */
            height: 20px; /* Set thumb height */
            background: #e4bb74; /* Set thumb color */
            cursor: pointer; /* Change cursor to pointer */
        }
        .dropdown-container { 
            position: absolute; 
            top: 10px; 
            left: 50%; 
            transform: translateX(-50%); 
        }
        select, input[type="range"] { touch-action: manipulation; } /* Improve touch interaction */
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <div style="text-align:center; margin:10px;">
        <textarea id="rawData" rows="6" style="width:80%;" placeholder="Paste your lines here…"></textarea><br>
        <button id="parseBtn">Parse & Render</button>
    </div>
    <div class="dropdown-container">
        <select id="visualizationType">
            <option value="bar">3D Bar Graph</option>
            <option value="scatter">3D Scatter Plot</option>
            <option value="surface">3D Surface Plot</option>
            <option value="heatmap">2D Heatmap</option>
            <option value="line">3D Line Graph</option>
            <option value="3dheatmap">3D Heatmap</option>
        </select>
    </div>
    <div class="controls">
        <div class="slider-container">
            <span class="slider-label">X:</span>
            <input type="range" id="sliderX" min="-200" max="200" value="50" step="1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Y:</span>
            <input type="range" id="sliderY" min="-200" max="200" value="50" step="1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Z:</span>
            <input type="range" id="sliderZ" min="0" max="300" value="100" step="1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Scale X:</span>
            <input type="range" id="scaleX" min="10" max="100" value="80" step="1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Scale Y:</span>
            <input type="range" id="scaleY" min="10" max="100" value="80" step="1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Scale Z:</span>
            <input type="range" id="scaleZ" min="10" max="100" value="80" step="1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Opacity:</span>
            <input type="range" id="opacity" min="0" max="1" value="0.8" step="0.01">
        </div>
        <div class="slider-container">
            <span class="slider-label">Node/Bar Size:</span>
            <input type="range" id="size" min="0.1" max="5" value="1" step="0.1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Line Weight:</span>
            <input type="range" id="lineWeight" min="0.1" max="5" value="1" step="0.1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Zoom:</span>
            <input type="range" id="zoom" min="10" max="200" value="50" step="1">
        </div>
        <div class="slider-container">
            <span class="slider-label">Rotation:</span>
            <input type="range" id="rotation" min="0" max="360" value="0" step="1">
        </div>
    </div>
</body>
</html>
